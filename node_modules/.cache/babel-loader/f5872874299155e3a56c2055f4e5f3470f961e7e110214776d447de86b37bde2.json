{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'../Feed.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MALCombinedFeed(){const[anime,setAnime]=useState([]);const[manga,setManga]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchData=async()=>{try{const[animeResponse,mangaResponse]=await Promise.all([axios.get('/api/mal?username=jmhj'),axios.get('/api/manga?username=jmhj')]);setAnime(animeResponse.data.anime||[]);setManga(mangaResponse.data.manga||[]);}catch(err){setError(err.message);}finally{setLoading(false);}};fetchData();// Poll every 5 minutes\nconst interval=setInterval(fetchData,5*60*1000);return()=>clearInterval(interval);},[]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"feed-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"MyAnimeList Updates\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading anime and manga lists...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"feed-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"MyAnimeList Updates\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"feed-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mal-combined-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mal-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Anime\"}),anime.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No recent updates.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"mal-container\",children:anime.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mal-item\",children:[/*#__PURE__*/_jsx(\"a\",{href:item.url,target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image_url,alt:item.title,className:\"mal-image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mal-content\",children:[/*#__PURE__*/_jsx(\"a\",{href:item.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"mal-title\",children:item.title}),/*#__PURE__*/_jsx(\"br\",{}),\"STATUS=\",item.status,\", SCORE=\",item.score,\", UPDATED @ \",new Date(item.updated_at).toLocaleString()]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"manga-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Manga\"}),manga.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No recent updates.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"manga-container\",children:manga.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"manga-item\",children:[/*#__PURE__*/_jsx(\"a\",{href:item.url,target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image_url,alt:item.title,className:\"manga-image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"manga-content\",children:[/*#__PURE__*/_jsx(\"a\",{href:item.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"manga-title\",children:item.title}),/*#__PURE__*/_jsx(\"br\",{}),\"STATUS=\",item.status,\", SCORE=\",item.score,\", UPDATED @ \",new Date(item.updated_at).toLocaleString()]})]},index))})]})]})});}export default MALCombinedFeed;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","MALCombinedFeed","anime","setAnime","manga","setManga","loading","setLoading","error","setError","fetchData","animeResponse","mangaResponse","Promise","all","get","data","err","message","interval","setInterval","clearInterval","className","children","length","map","item","index","href","url","target","rel","src","image_url","alt","title","status","score","Date","updated_at","toLocaleString"],"sources":["C:/Users/jense/Desktop/PersonalBrandWebsite/src/components/feeds/MALCombinedFeed.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport '../Feed.css';\r\n\r\nfunction MALCombinedFeed() {\r\n  const [anime, setAnime] = useState([]);\r\n  const [manga, setManga] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [animeResponse, mangaResponse] = await Promise.all([\r\n          axios.get('/api/mal?username=jmhj'),\r\n          axios.get('/api/manga?username=jmhj')\r\n        ]);\r\n        setAnime(animeResponse.data.anime || []);\r\n        setManga(mangaResponse.data.manga || []);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    // Poll every 5 minutes\r\n    const interval = setInterval(fetchData, 5 * 60 * 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"feed-card\">\r\n        <h3>MyAnimeList Updates</h3>\r\n        <p>Loading anime and manga lists...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"feed-card\">\r\n        <h3>MyAnimeList Updates</h3>\r\n        <p>Error: {error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"feed-card\">\r\n      <div className=\"mal-combined-container\">\r\n        <div className=\"mal-section\">\r\n          <h4>Anime</h4>\r\n          {anime.length === 0 ? (\r\n            <p>No recent updates.</p>\r\n          ) : (\r\n            <div className=\"mal-container\">\r\n              {anime.map((item, index) => (\r\n                <div key={index} className=\"mal-item\">\r\n                  <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <img src={item.image_url} alt={item.title} className=\"mal-image\" />\r\n                  </a>\r\n                  <div className=\"mal-content\">\r\n                    <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"mal-title\">{item.title}</a>\r\n                    <br />\r\n                    STATUS={item.status}, SCORE={item.score}, UPDATED @ {new Date(item.updated_at).toLocaleString()}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"manga-section\">\r\n          <h4>Manga</h4>\r\n          {manga.length === 0 ? (\r\n            <p>No recent updates.</p>\r\n          ) : (\r\n            <div className=\"manga-container\">\r\n              {manga.map((item, index) => (\r\n                <div key={index} className=\"manga-item\">\r\n                  <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <img src={item.image_url} alt={item.title} className=\"manga-image\" />\r\n                  </a>\r\n                  <div className=\"manga-content\">\r\n                    <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"manga-title\">{item.title}</a>\r\n                    <br />\r\n                    STATUS={item.status}, SCORE={item.score}, UPDATED @ {new Date(item.updated_at).toLocaleString()}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MALCombinedFeed;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}