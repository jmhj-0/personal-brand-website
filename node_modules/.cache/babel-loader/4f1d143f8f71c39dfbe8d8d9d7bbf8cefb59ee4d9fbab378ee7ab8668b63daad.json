{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'../Feed.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GoodreadsFeed(){const[reviews,setReviews]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchReviews=async()=>{try{const response=await axios.get('/api/goodreads?user_id=145364540');setReviews(response.data.reviews||[]);}catch(err){setError(err.message);}finally{setLoading(false);}};fetchReviews();// Poll every 5 minutes\nconst interval=setInterval(fetchReviews,5*60*1000);return()=>clearInterval(interval);},[]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"feed-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Goodreads Updates\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading book reviews...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"feed-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Goodreads Updates\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"feed-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Goodreads\"}),reviews.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No recent reviews.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"goodreads-container\",children:reviews.map((review,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"goodreads-item\",children:[review.book_image&&/*#__PURE__*/_jsx(\"a\",{href:review.book_url,target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{src:review.book_image,alt:review.title,className:\"goodreads-image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"goodreads-content\",children:[/*#__PURE__*/_jsx(\"a\",{href:review.book_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"goodreads-title\",children:review.title}),/*#__PURE__*/_jsx(\"br\",{}),\"AUTHOR: \",review.author,\", RATING: \",review.rating,\"/5, REVIEWED @ \",new Date(review.review_date).toLocaleString()]})]},index))})]});}export default GoodreadsFeed;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","GoodreadsFeed","reviews","setReviews","loading","setLoading","error","setError","fetchReviews","response","get","data","err","message","interval","setInterval","clearInterval","className","children","length","map","review","index","book_image","href","book_url","target","rel","src","alt","title","author","rating","Date","review_date","toLocaleString"],"sources":["C:/Users/jense/Desktop/PersonalBrandWebsite/src/components/feeds/GoodreadsFeed.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport '../Feed.css';\r\n\r\nfunction GoodreadsFeed() {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchReviews = async () => {\r\n      try {\r\n        const response = await axios.get('/api/goodreads?user_id=145364540');\r\n        setReviews(response.data.reviews || []);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchReviews();\r\n\r\n    // Poll every 5 minutes\r\n    const interval = setInterval(fetchReviews, 5 * 60 * 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"feed-card\">\r\n        <h3>Goodreads Updates</h3>\r\n        <p>Loading book reviews...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"feed-card\">\r\n        <h3>Goodreads Updates</h3>\r\n        <p>Error: {error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"feed-card\">\r\n      <h3>Goodreads</h3>\r\n      {reviews.length === 0 ? (\r\n        <p>No recent reviews.</p>\r\n      ) : (\r\n        <div className=\"goodreads-container\">\r\n          {reviews.map((review, index) => (\r\n            <div key={index} className=\"goodreads-item\">\r\n              {review.book_image && (\r\n                <a href={review.book_url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  <img src={review.book_image} alt={review.title} className=\"goodreads-image\" />\r\n                </a>\r\n              )}\r\n              <div className=\"goodreads-content\">\r\n                <a href={review.book_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"goodreads-title\">{review.title}</a><br />AUTHOR: {review.author}, RATING: {review.rating}/5, REVIEWED @ {new Date(review.review_date).toLocaleString()}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GoodreadsFeed;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}