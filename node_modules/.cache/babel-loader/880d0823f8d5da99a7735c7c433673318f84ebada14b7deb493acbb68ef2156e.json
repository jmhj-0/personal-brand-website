{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./Feed.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TwitterFeed(){const[tweets,setTweets]=useState([]);const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const renderTweetText=text=>{const mentionRegex=/(@\\w+)/g;const parts=text.split(mentionRegex);return parts.map((part,index)=>mentionRegex.test(part)?/*#__PURE__*/_jsx(\"span\",{className:\"mention\",children:part},index):part);};useEffect(()=>{const fetchTweets=async()=>{try{const response=await axios.get('/api/twitter?username=_jmhj');setTweets(response.data.tweets||[]);setUser(response.data.user);}catch(err){setError(err.message);}finally{setLoading(false);}};fetchTweets();// Poll every 5 minutes\nconst interval=setInterval(fetchTweets,5*60*1000);return()=>clearInterval(interval);},[]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"feed-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"X (Twitter) Posts\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading latest posts...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"feed-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"X (Twitter) Posts\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]})]});}if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"feed-card\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading user info...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"feed-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"X\"}),tweets.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No posts available.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"tweets-container\",children:tweets.map(tweet=>{var _tweet$public_metrics,_tweet$public_metrics2,_tweet$public_metrics3;return/*#__PURE__*/_jsxs(\"div\",{className:\"tweet-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:user.profile_image_url,alt:\"Profile\",className:\"tweet-profile-pic\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tweet-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"tweet-text\",children:renderTweetText(tweet.text)}),/*#__PURE__*/_jsx(\"small\",{className:\"tweet-date\",children:new Date(tweet.created_at).toLocaleString()}),/*#__PURE__*/_jsxs(\"div\",{className:\"tweet-metrics\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDC4D \",((_tweet$public_metrics=tweet.public_metrics)===null||_tweet$public_metrics===void 0?void 0:_tweet$public_metrics.like_count)||0]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDD04 \",((_tweet$public_metrics2=tweet.public_metrics)===null||_tweet$public_metrics2===void 0?void 0:_tweet$public_metrics2.retweet_count)||0]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDC41\\uFE0F \",((_tweet$public_metrics3=tweet.public_metrics)===null||_tweet$public_metrics3===void 0?void 0:_tweet$public_metrics3.impression_count)||0]})]})]})]},tweet.id);})})]});}export default TwitterFeed;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","TwitterFeed","tweets","setTweets","user","setUser","loading","setLoading","error","setError","renderTweetText","text","mentionRegex","parts","split","map","part","index","test","className","children","fetchTweets","response","get","data","err","message","interval","setInterval","clearInterval","length","tweet","_tweet$public_metrics","_tweet$public_metrics2","_tweet$public_metrics3","src","profile_image_url","alt","Date","created_at","toLocaleString","public_metrics","like_count","retweet_count","impression_count","id"],"sources":["C:/Users/jense/Desktop/PersonalBrandWebsite/src/components/feeds/TwitterFeed.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './Feed.css';\r\n\r\nfunction TwitterFeed() {\r\n  const [tweets, setTweets] = useState([]);\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const renderTweetText = (text) => {\r\n    const mentionRegex = /(@\\w+)/g;\r\n    const parts = text.split(mentionRegex);\r\n    return parts.map((part, index) =>\r\n      mentionRegex.test(part) ? <span key={index} className=\"mention\">{part}</span> : part\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchTweets = async () => {\r\n      try {\r\n        const response = await axios.get('/api/twitter?username=_jmhj');\r\n        setTweets(response.data.tweets || []);\r\n        setUser(response.data.user);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTweets();\r\n\r\n    // Poll every 5 minutes\r\n    const interval = setInterval(fetchTweets, 5 * 60 * 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"feed-card\">\r\n        <h3>X (Twitter) Posts</h3>\r\n        <p>Loading latest posts...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"feed-card\">\r\n        <h3>X (Twitter) Posts</h3>\r\n        <p>Error: {error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"feed-card\">\r\n        <p>Loading user info...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"feed-card\">\r\n      <h3>X</h3>\r\n      {tweets.length === 0 ? (\r\n        <p>No posts available.</p>\r\n      ) : (\r\n        <div className=\"tweets-container\">\r\n          {tweets.map((tweet) => (\r\n            <div key={tweet.id} className=\"tweet-item\">\r\n              <img src={user.profile_image_url} alt=\"Profile\" className=\"tweet-profile-pic\" />\r\n              <div className=\"tweet-content\">\r\n                <p className=\"tweet-text\">{renderTweetText(tweet.text)}</p>\r\n                <small className=\"tweet-date\">{new Date(tweet.created_at).toLocaleString()}</small>\r\n                <div className=\"tweet-metrics\">\r\n                  <span>üëç {tweet.public_metrics?.like_count || 0}</span>\r\n                  <span>üîÑ {tweet.public_metrics?.retweet_count || 0}</span>\r\n                  <span>üëÅÔ∏è {tweet.public_metrics?.impression_count || 0}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TwitterFeed;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}